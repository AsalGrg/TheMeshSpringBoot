<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" th:replace="user/base::Layout(~{::div})">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doc</title>
</head>

<body>
    <div class="main">
        <h2>Your Profile</h2>
        <div class="card">
            <img th:src="@{'/images/users/'+ ${#ctx.session.user.image_user}}" alt="profileimage"
                class="profile_main_image">

            <div class="card-body">

                <table>
                    <tbody>
                        <h2 style="margin-left:160px;" th:text="${#ctx.session.user.user_name}">
                        </h2>
                        <tr>
                            <td><b>Name</b></td>
                            <td>: </td>
                            <td>
                                <span th:text="${#ctx.session.user.user_name}"></span>
                            </td>
                        </tr>
                        <tr>
                            <td><b>Email</b></td>
                            <td>: </td>
                            <td>
                                <span th:text="${#ctx.session.user.email}"></span>
                            </td>
                        </tr>
                        <tr>
                            <td><b>Address</b></td>
                            <td>: </td>
                            <td>
                                <span th:text="${#ctx.session.user.user_address}"></span>
                            </td>
                        </tr>
                        <tr>
                            <td><b>Phone</b></td>
                            <td>: </td>
                            <td>
                                <span th:text="${#ctx.session.user.user_phone}"></span>
                            </td>
                        </tr>
                        <tr>
                            <td><b>Gender</b></td>
                            <td>: </td>
                            <td>
                                <span th:text="${#ctx.session.user.gender}"></span>
                            </td>
                        </tr>

                    </tbody>
                </table>
                <button id="openModal2" class="Edit">Edit Profile</button>
            </div>
        </div>

    </div>


    <!-- Updating the details form -->

    <!-- Modal 2 Content/Box -->
    <div id="myModal2" class="modal">
        <div class="modal-content">

            <div class="form_modal" style="margin-top:50px;">
                <form th:action="@{/updateProfile}" method="post" enctype="multipart/form-data">
                    <h1 style="color:black;">Update Profile</h1>

                    <input type="text" class="textfield" name="user_id" th:value="${#ctx.session.user.user_id}" hid>

                    <label for="user_name">User Name : </label>
                    <input type="text" class="textfield" name="user_name" th:value="${#ctx.session.user.user_name}">
                    <br>

                    <label for="gender">Email : </label>
                    <input type="email" class="textfield" name="email" th:value="${#ctx.session.user.email}">
                    <br>

                    <label for="gender">Gender : </label>
                    <input type="text" class="textfield" name="gender" th:value="${#ctx.session.user.gender}">
                    <br>

                    <label for="address">Address : </label>
                    <input type="text" class="textfield" name="user_address"
                        th:value="${#ctx.session.user.user_address}">
                    <br>

                    <label for="phoneno">Phone No : </label>
                    <input type="text" class="textfield" name="user_phone" th:value="${#ctx.session.user.user_phone}">
                    <br>

                    <label for="password">Password : </label>
                    <input type="password" class="textfield" name="password" th:value="${#ctx.session.user.password}">
                    <br>

                    <label for="image">Profile Image:</label>
                    <input type="file" style="margin:10px;" name="userPP">
                    <br>


                    <input type="submit" class="green_but" value="Save Changes">
                </form>
            </div>
            <br>
            <button id="closeModal2" class="red_but">Close</button>
        </div>


    </div>
</body>

</html>